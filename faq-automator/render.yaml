# render.yaml
services:
  # This defines our main backend web service
  - type: web
    name: faq-automator-backend
    # Use the Docker runtime
    runtime: docker
    # Use the Dockerfile in the root of the repository
    dockerfilePath: ./Dockerfile
    # Specify the instance type (Free is fine for this project)
    plan: free
    # Define the health check path we created in app.py
    healthCheckPath: /health
    # Define the environment variables Render needs to know about.
    # We will set the VALUES for these in the Render dashboard.
    envVars:
      - key: GEMINI_API_KEY
        sync: false # 'sync: false' means it's a secret value we'll provide in the UI
      - key: TWILIO_ACCOUNT_SID
        sync: false
      - key: TWILIO_AUTH_TOKEN
        sync: false
      - key: FIREBASE_CREDENTIALS_PATH
        # This is the path where Render will place our secret file
        value: /etc/secrets/firebase-credentials.json